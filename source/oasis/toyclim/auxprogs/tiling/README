============================================================================
The programs and scripts in this directory generate all the auxilliary files
required for coastal tiling in subdirectory OUTPUT, given the required input
files in subdirectory INPUT.

There are six programs: readmap.f, tiling,f, writesvegel3.f, surfrest.f,
newweights.f and readnewweights.f and two scripts runwritesvegel3.script and
runsurfrest.script

The input files require (which should be copied to subdirectory INPUT before
starting) are:
at31topa    restart.surface    t42.59    vegetation    ocean.kmtc

These are:

 * at31topa - the interpolation weights required by oasis (generated by the
   subroutine mozaicweights.f in oasis/toymodel/aufxiles)

 * restart.surface - surface restart file generated by the igcm.

 * t42.59 - the gridspace orography file for igcm

 * vegetation - igcm3 vegetation file

 * ocean.kmtc - moma topography file


The output files generated (residing in subdirectory OUTPUT after programs and
scripts have run) are:

at31topa.new    ofrac.igcm3

 * at31topa.new - new oasis interpolation weights file must be copied
   to oasis/toyclim/wkdir before starting coupled run

 * ofrac.igcm3 - fractional land/sea mask - should be copied to igcm3/data/orog
   before starting new coupled run



>>>>>>>>>>>>>>>>>

The output files generated (residing in subdirectory OUTPUT after
programs and scripts have run) are :

at31topa.new               igcm3mask.i1               restart.sea
ofrac.igcm3                restart.land


restart.land/sea land and sea surface restarts and vegetation,
should be copied to igcm3/data before starting coupled run (land =
.66, sea = .65)

igcm3mask.i1 is just used for storing the igcm land mask and
is not required for the new run

>>>>>>>>>>>>>>>>>>>

To generate the output files, compile all programs (remember to use -r8
compilation flag in the case of surfrest.f or it won't work) then run in the
following order (doing it in the wrong order will result in crashes/incorrect
files):

readmap
tiling
runwritesvegel3.script
runsurfrest.script
newweights.script


For reference:
 * readmap - reads in the igcm orography and outputs land mask to an
   intermediate file
   
 * tiling  - calculates the fractional land-sea mask (ofrac.igcm3)
   
 * runwritesvegel3.script -  makes a new vegetation file (vegetation.coast)
   
 * runsurfrest.script - creates new surface restart files - one for the land
   part of coastal gridpoints, and one for the sea part (restart.land/sea)
   
 * newweights - makes a new interpolation weights file (at31topa.new)


readnewweights.f is a utility program which can be used to look at the new
weights file OUTPUT/at31topa.new to see if it looks alright

